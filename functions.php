<?php
//--------------------------------------------------------------------------------------------------
// Вспомогательные функции
//--------------------------------------------------------------------------------------------------


//--------------------------------------------------------------------------------------------------
// Рукурсивный обход директории
//--------------------------------------------------------------------------------------------------
function get_files($dir = "."){
	$files = array();  
	if ($handle = opendir($dir)) 
	{    
		while (false !== ($item = readdir($handle))) 
		{        
			if (is_file("$dir/$item")) $files[] = "$dir/$item";
            	elseif (is_dir("$dir/$item") && ($item != ".") && ($item != ".."))
            	{
                    $files = array_merge($files, get_files("$dir/$item"));
               	}
        }
        closedir($handle);
    }  
    return $files; 
}


//--------------------------------------------------------------------------------------------------
// Для отладки массивов
//--------------------------------------------------------------------------------------------------
function debug($array) {
    echo '<pre>';
    print_r($array);
    echo '<br>----------------------------------<br>';
    var_dump($array);
    echo '</pre>';
}